<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Peter Khomchenko - Game Design Portfolio</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #533483 50%, #9d4edd 100%);
            color: #333;
            overflow-x: hidden;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Three.js Canvas */
        #three-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            pointer-events: none;
        }

        /* Header */
        header {
            position: relative;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            background: linear-gradient(135deg, rgba(26, 26, 46, 0.2), rgba(157, 78, 221, 0.1));
        }

        .hero-content {
            z-index: 10;
            animation: fadeInUp 1s ease-out;
        }

        .hero-title {
            font-size: 4rem;
            font-weight: 700;
            background: linear-gradient(135deg, #ff8500, #ffbe0b, #f72585);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 1rem;
        }

        .hero-subtitle {
            font-size: 1.5rem;
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 2rem;
            font-weight: 300;
        }

        .cta-button {
            display: inline-block;
            padding: 12px 30px;
            background: linear-gradient(135deg, #9d4edd, #533483);
            color: white;
            text-decoration: none;
            border-radius: 50px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(157, 78, 221, 0.3);
        }

        .cta-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(157, 78, 221, 0.4);
            background: linear-gradient(135deg, #f72585, #ff8500);
        }

        /* Navigation */
        nav {
            position: fixed;
            top: 30px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 1000;
            background: rgba(110, 10, 143, 0.2);
            backdrop-filter: blur(10px);
            border-radius: 50px;
            padding: 10px 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        nav ul {
            list-style: none;
            display: flex;
            gap: 30px;
        }

        nav a {
            color: white;
            text-decoration: none;
            transition: all 0.3s ease;
            padding: 8px 16px;
            border-radius: 25px;
        }

        nav a:hover {
            background: linear-gradient(135deg, rgba(157, 78, 221, 0.3), rgba(247, 37, 133, 0.3));
            color: #ffbe0b;
        }

        /* Main Content */
        main {
            position: relative;
            z-index: 10;
            background: rgba(255, 255, 255, 0.95);
            margin-top: -10vh;
            border-radius: 30px 30px 0 0;
            backdrop-filter: blur(10px);
        }

        /* About Section */
        .about {
            padding: 80px 0;
            text-align: center;
        }

        .section-title {
            font-size: 2.5rem;
            font-weight: 600;
            margin-bottom: 2rem;
            background: linear-gradient(135deg, #533483, #9d4edd, #f72585);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .about-text {
            font-size: 1.2rem;
            max-width: 800px;
            margin: 0 auto;
            color: #666;
            line-height: 1.8;
        }

        /* Projects Section */
        .projects {
            padding: 80px 0;
            background: linear-gradient(135deg, rgba(26, 26, 46, 0.05), rgba(83, 52, 131, 0.1), rgba(157, 78, 221, 0.05));
        }

        .projects-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            margin-top: 3rem;
        }

        .project-card {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            cursor: pointer;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .project-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        }

        .project-preview {
            height: 200px;
            background: linear-gradient(135deg, #9d4edd, #533483, #1a1a2e);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
            position: relative;
            overflow: hidden;
        }

        .project-preview::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="50" cy="50" r="1" fill="white" opacity="0.1"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
            opacity: 0.3;
        }

        .project-content {
            padding: 25px;
        }

        .project-title {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 10px;
            color: #533483;
        }

        .project-description {
            color: #666;
            margin-bottom: 15px;
        }

        .project-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .tag {
            background: linear-gradient(135deg, rgba(157, 78, 221, 0.1), rgba(247, 37, 133, 0.1));
            color: #533483;
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 0.85rem;
            font-weight: 500;
            border: 1px solid rgba(157, 78, 221, 0.2);
        }

        /* Expanded Project Modal */
        .project-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            display: none;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(5px);
        }

        .modal-content {
            background: white;
            border-radius: 20px;
            max-width: 900px;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            margin: 20px;
            animation: modalSlideIn 0.3s ease-out;
        }

        .modal-header {
            padding: 30px;
            border-bottom: 1px solid #eee;
            position: relative;
        }

        .modal-title {
            font-size: 2rem;
            font-weight: 600;
            color: #2d5a27;
            margin-bottom: 10px;
        }

        .close-btn {
            position: absolute;
            top: 20px;
            right: 25px;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #666;
            transition: color 0.3s ease;
        }

        .close-btn:hover {
            color: #2d5a27;
        }

        .modal-body {
            padding: 30px;
        }

        .media-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); 
            gap: 20px;
            margin: 20px 0;
        }

        .media-placeholder {
            height: 300px;
            background: linear-gradient(135deg, rgba(26, 26, 46, 0.05), rgba(157, 78, 221, 0.1));
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #666;
            border: none;
            transition: all 0.3s ease;
        }

        .media-placeholder:hover {
            border-color: #f72585; 
            background: linear-gradient(135deg, rgba(157, 78, 221, 0.1), rgba(247, 37, 133, 0.1));
        }

        /* Footer */
        footer {
            background: linear-gradient(135deg, #1a1a2e, #533483, #9d4edd);
            color: white;
            text-align: center;
            padding: 60px 0;
        }

        .footer-content {
            max-width: 600px;
            margin: 0 auto;
        }

        .social-links {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
        }

        .social-link {
            display: inline-block;
            width: 50px;
            height: 50px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            line-height: 50px;
            text-align: center;
            color: white;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .social-link:hover {
            background: linear-gradient(135deg, rgba(247, 37, 133, 0.3), rgba(255, 133, 0, 0.3));
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(247, 37, 133, 0.3);
        }

        .profile-pic {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            object-fit: cover;
            margin: 0 auto 20px;
            display: block;
        }

        /* Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: scale(0.9);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .hero-title {
                font-size: 2.5rem;
            }
            
            .hero-subtitle {
                font-size: 1.2rem;
            }
            
            nav ul {
                gap: 15px;
            }
            
            .projects-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <canvas id="three-canvas"></canvas>
    
    <nav>
        <ul>
            <li><a href="#home">Home</a></li>
            <li><a href="#about">About</a></li>
            <li><a href="#games">Games</a></li>
            <li><a href="#models">3D Art</a></li>
            <li><a href="#graphics">Graphics</a></li>
            <li><a href="#contact">Contact</a></li>
        </ul>
    </nav>

    <header id="home">
        <div class="hero-content">
            <h1 class="hero-title">Hi! I'm Peter.</h1>
            <p class="hero-subtitle">Game Dev & SWE</p>
            <a href="#games" class="cta-button">Explore My Work</a>
        </div>
    </header>

    <main>
        <section id="about" class="about">
            <div class="container">
                <h2 class="section-title">About Me</h2>
                <img src="images/misc/profilePic.jpg" alt="Peter" class="profile-pic">
                <p class="about-text">
                    I'm a computational game design student at Carnegie Mellon's School of Computer Science, 
                    passionate about creating immersive, interactive experiences that blend technology with artistry. 
                    My work explores the intersection of procedural generation, artificial intelligence, and 
                    human-centered design to craft games that are both technically innovative and emotionally engaging.
                    As a hobby, I create cinematics using Autodesk Maya!
                </p>
            </div>
        </section>

        <section id="games" class="projects">
            <div class="container">
                <h2 class="section-title">Games</h2>
                <div class="projects-grid">
                    <div class="project-card" data-project="project1">
                        <div class="project-preview">
                            <img src="images/brickHouse/brickHouseImg1.png" style="width: 100%; height: 100%; object-fit: cover;">
                        </div>
                        <div class="project-content">
                            <h3 class="project-title">The Brick House</h3>
                            <p class="project-description">
                               A spin on the classical 3 little pigs story.  Filled with murderous intent!
                            </p>
                            <div class="project-tags">
                                <span class="tag">Unity</span>
                                <span class="tag">C#</span>
                                <span class="tag">Cooking Simulator</span>
                                <span class="tag">3D Physics</span>
                                <span class="tag">Game Programming</span>
                            </div>
                        </div>
                    </div>

                    <div class="project-card" data-project="project2">
                        <div class="project-preview">
                            <img src="images/foulBall/lastFoulBallImg1.png" style="width: 100%; height: 100%; object-fit: cover;">
                        </div>
                        <div class="project-content">
                            <h3 class="project-title">The Last Foul Ball</h3>
                            <p class="project-description">
                                A revenge story set in a sport-inspired world.
                            </p>
                            <div class="project-tags">
                                <span class="tag">Unity</span>
                                <span class="tag">C#</span>
                                <span class="tag">Fighter</span>
                                <span class="tag">Game Programming</span>
                            </div>
                        </div>
                    </div>

                    <div class="project-card" data-project="project3">
                        <div class="project-preview">
                            <img src="images/akiko/akikoImg1.png" style="width: 100%; height: 100%; object-fit: cover;">
                        </div>
                        <div class="project-content">
                            <h3 class="project-title">Akiko: The Sight Beyond</h3>
                            <p class="project-description">
                                Japanese folklore story reimagined.
                            </p>
                            <div class="project-tags">
                                <span class="tag">Unity</span>
                                <span class="tag">C#</span>
                                <span class="tag">Platformer</span>
                                <span class="tag">Game Programming</span>
                            </div>
                        </div>
                    </div>

                    <div class="project-card" data-project="project4">
                        <div class="project-preview">
                            <img src="images/scubaHunter/scubaHunterIMG2.png" style="width: 100%; height: 100%; object-fit: cover;">
                        </div>
                        <div class="project-content">
                            <h3 class="project-title">Scuba Hunter</h3>
                            <p class="project-description">
                                Global Game Jam 2025 project. Underwater fishing using bubbles.
                            </p>
                            <div class="project-tags">
                                <span class="tag">Game Jam</span>
                                <span class="tag">C#</span>
                                <span class="tag">Unity</span>
                                <span class="tag">Game Programming</span>
                                <span class="tag">Networking</span>
                            </div>
                        </div>
                    </div>

                    <div class="project-card" data-project="project7">
                        <div class="project-preview">
                            <img src="images/unbound/unboundLevel1.png" style="width: 100%; height: 100%; object-fit: cover;">
                        </div>
                        <div class="project-content">
                            <h3 class="project-title">Unbound</h3>
                            <p class="project-description">
                                A psychological horror game within a pixel world.
                            </p>
                            <div class="project-tags">
                                <span class="tag">Unity</span>
                                <span class="tag">C#</span>
                                <span class="tag">Platformer</span>
                                <span class="tag">Game Programming</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="models" class="projects">
            <div class="container">
                <h2 class="section-title">3D Models & Cinematics</h2>
                <div class="projects-grid">
                    <div class="project-card" data-project="project5">
                        <div class="project-preview">
                            <img src="images/cinematic/cinematicImg1.png" style="width: 100%; height: 100%; object-fit: cover;">
                        </div>
                        <div class="project-content">
                            <h3 class="project-title">Far From Home</h3>
                            <p class="project-description">
                                3D Cinematic created in Autodesk Maya
                            </p>
                            <div class="project-tags">
                                <span class="tag">Autodesk Maya</span>
                                <span class="tag">Zbrush</span>
                                <span class="tag">3D Modelling</span>
                                <span class="tag">Rigging</span>
                                <span class="tag">Animation</span>
                            </div>
                        </div>
                    </div>

                    <div class="project-card" data-project="project6">
                        <div class="project-preview">
                            <img src="images/mechaSpider/mechaSpider4.JPG" style="width: 100%; height: 100%; object-fit: cover;">
                        </div>
                        <div class="project-content">
                            <h3 class="project-title">Mecha Spider</h3>
                            <p class="project-description">
                                3D Model textured in Substance Painter
                            </p>
                            <div class="project-tags">
                                <span class="tag">Substance Painter</span>
                                <span class="tag">3D Modelling</span>
                            </div>
                        </div>
                    </div>

                    <div class="project-card" data-project="project8">
                        <div class="project-preview">
                            <img src="images/scavenger/scavenger1.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        </div>
                        <div class="project-content">
                            <h3 class="project-title">Scavenger</h3>
                            <p class="project-description">
                                3D Model textured in Substance Painter
                            </p>
                            <div class="project-tags">
                                <span class="tag">Substance Painter</span>
                                <span class="tag">3D Modelling</span>
                            </div>
                        </div>
                    </div>

                    

                </div>
            </div>
        </section>

        <section id="graphics" class="projects">
            <div class="container">
                <h2 class="section-title">Graphics</h2>
                <div class="projects-grid">
                    <div class="project-card" data-project="graphics1">
                        <div class="project-preview">
                            <img src="images/scotty3D/cg1.png" style="width: 100%; height: 100%; object-fit: cover;">
                        </div>
                        <div class="project-content">
                            <h3 class="project-title">Scotty3D</h3>
                            <p class="project-description">
                                3D Graphics Software Package for 15-362 @ CMU.
                            </p>
                            <div class="project-tags">
                                <span class="tag">Graphics</span>
                                <span class="tag">Rasterization</span>
                                <span class="tag">Path Tracing</span>
                                <span class="tag">Mesh Editing</span>
                                <span class="tag">C++</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </main>                    

                </div>
            </div>
        </section>
    </main>

    <footer id="contact">
        <div class="container">
            <div class="footer-content">
                <h2>Let's Connect</h2>
                <p>Feel free to reach out!</p>
                <div class="social-links">
                    <a href="mailto:pkhomche@andrew.cmu.edu" class="social-link">üìß</a>
                    <a href="https://www.linkedin.com/in/peter-khomchenko-482521229" class="social-link">üíº</a>
                    <a href="https://github.com/spydermnky" class="social-link">üëæ</a>
                    <a href="https://x.com/nomolecules" class="social-link">ùïè</a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Project Modal -->
    <div class="project-modal" id="project-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="modal-title">Project Title</h2>
                <button class="close-btn" onclick="closeModal()">&times;</button>
            </div>
            <div class="modal-body" id="modal-body">
                <!-- Content will be dynamically inserted here -->
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script>
        // Replace the existing Three.js script section with this enhanced version

        // Replace the existing Three.js script section with this enhanced version

        // Three.js Background Animation
        let scene, camera, renderer, galaxyParticles;
        let mouse = { x: 0, y: 0 };
        let targetRotation = { x: 0, y: 0 };
        let currentRotation = { x: 0, y: 0 };
        let galaxyRotation = 0;

        function initThree() {
            scene = new THREE.Scene();
            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            renderer = new THREE.WebGLRenderer({ 
                canvas: document.getElementById('three-canvas'),
                alpha: true
            });
            renderer.setSize(window.innerWidth, window.innerHeight);

            // Create gradient background
            createGradientBackground();

            // Create Andromeda galaxy
            createAndromedaGalaxy();

            // Add mouse move listener
            document.addEventListener('mousemove', onMouseMove, false);

            camera.position.z = 15;
            camera.position.y = 2;
            animate();
        }

        function onMouseMove(event) {
            // Convert mouse position to normalized coordinates (-1 to 1)
            mouse.x = (event.clientX / window.innerWidth) * 2 - 1;
            mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;
            
            // Set target rotation based on mouse position (more subtle for galaxy)
            targetRotation.y = mouse.x * Math.PI * 0.2;
            targetRotation.x = mouse.y * Math.PI * 0.1;
        }

        function createGradientBackground() {
            // Create a large plane that covers the entire viewport and beyond
            const skyGeometry = new THREE.PlaneGeometry(100, 100);
            
            // Create gradient material for sunset sky
            const canvas = document.createElement('canvas');
            canvas.width = 256;
            canvas.height = 256;
            const ctx = canvas.getContext('2d');
            
            // Create sunset gradient
            const gradient = ctx.createLinearGradient(0, 0, 0, 256);
            gradient.addColorStop(0, '#1a1a2e');    // Dark purple at top
            gradient.addColorStop(0.3, '#16213e');   // Deep blue-purple
            gradient.addColorStop(0.5, '#533483');   // Purple
            gradient.addColorStop(0.7, '#9d4edd');   // Light purple
            gradient.addColorStop(0.85, '#f72585');  // Pink
            gradient.addColorStop(0.95, '#ff8500');  // Orange
            gradient.addColorStop(1, '#ffbe0b');     // Yellow horizon
            
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, 256, 256);
            
            const texture = new THREE.CanvasTexture(canvas);
            const skyMaterial = new THREE.MeshBasicMaterial({ 
                map: texture,
                transparent: true,
                opacity: 0.8
            });
            
            const sky = new THREE.Mesh(skyGeometry, skyMaterial);
            sky.position.z = -20; // Move further back
            sky.position.y = 0;
            
            scene.add(sky);
        }

        function createAndromedaGalaxy() {
            const particleCount = 800;
            const positions = [];
            const colors = [];
            const sizes = [];
            
            // Galaxy parameters
            const galaxyRadius = 8;
            const coreRadius = 1.5;
            const armCount = 4; // Number of spiral arms
            const armSpread = 0.8; // How spread out the arms are
            
            for (let i = 0; i < particleCount; i++) {
                // Generate particles in spiral arms
                const armIndex = Math.floor(Math.random() * armCount);
                const armAngle = (armIndex / armCount) * Math.PI * 2;
                
                // Distance from center (weighted toward center for realistic galaxy)
                const u = Math.random();
                const radius = Math.pow(u, 0.5) * galaxyRadius; // Square root for realistic distribution
                
                // Spiral angle based on radius (arms get more twisted further out)
                const spiralTightness = 3;
                const angle = armAngle + (radius / galaxyRadius) * spiralTightness * Math.PI;
                
                // Add some randomness to arm position
                const angleNoise = (Math.random() - 0.5) * armSpread;
                const radiusNoise = (Math.random() - 0.5) * 0.5;
                
                // Calculate position
                const finalAngle = angle + angleNoise;
                const finalRadius = Math.max(0.1, radius + radiusNoise);
                
                const x = Math.cos(finalAngle) * finalRadius;
                const y = Math.sin(finalAngle) * finalRadius;
                
                // Add vertical spread (galaxy thickness)
                const z = (Math.random() - 0.5) * Math.max(0.3, 2 - radius * 0.3);
                
                positions.push(x, y, z);
                
                // Color based on distance from center and temperature
                let r, g, b;
                
                if (radius < coreRadius) {
                    // Core: bright yellow-white stars
                    r = 1.0;
                    g = 0.9 + Math.random() * 0.1;
                    b = 0.6 + Math.random() * 0.3;
                } else if (radius < galaxyRadius * 0.6) {
                    // Middle region: mix of blue and white stars
                    const temp = Math.random();
                    if (temp > 0.7) {
                        // Blue-white hot stars
                        r = 0.7 + Math.random() * 0.3;
                        g = 0.8 + Math.random() * 0.2;
                        b = 1.0;
                    } else {
                        // Yellow-white stars
                        r = 1.0;
                        g = 0.8 + Math.random() * 0.2;
                        b = 0.5 + Math.random() * 0.3;
                    }
                } else {
                    // Outer region: older red and yellow stars
                    const temp = Math.random();
                    if (temp > 0.5) {
                        // Red giants
                        r = 1.0;
                        g = 0.3 + Math.random() * 0.4;
                        b = 0.1 + Math.random() * 0.2;
                    } else {
                        // Yellow stars
                        r = 1.0;
                        g = 0.7 + Math.random() * 0.3;
                        b = 0.2 + Math.random() * 0.3;
                    }
                }
                
                colors.push(r, g, b);
                
                // Size based on distance (closer stars appear larger)
                const size = Math.max(0.02, (galaxyRadius - radius) / galaxyRadius * 0.15 + Math.random() * 0.05);
                sizes.push(size);
            }
            
            // Add some distant background stars
            const backgroundStars = 200;
            for (let i = 0; i < backgroundStars; i++) {
                // Random positions far from galaxy
                const angle = Math.random() * Math.PI * 2;
                const distance = galaxyRadius + Math.random() * 5;
                
                const x = Math.cos(angle) * distance;
                const y = Math.sin(angle) * distance;
                const z = (Math.random() - 0.5) * 8;
                
                positions.push(x, y, z);
                
                // Dim, distant stars
                const brightness = 0.3 + Math.random() * 0.4;
                colors.push(brightness, brightness, brightness * 1.2);
                sizes.push(0.01 + Math.random() * 0.02);
            }

            const geometry = new THREE.BufferGeometry();
            geometry.setAttribute('position', new THREE.BufferAttribute(new Float32Array(positions), 3));
            geometry.setAttribute('color', new THREE.BufferAttribute(new Float32Array(colors), 3));

            // Custom shader material for variable star sizes
            const material = new THREE.PointsMaterial({
                size: 0.08,
                vertexColors: true,
                transparent: true,
                opacity: 0.9,
                blending: THREE.AdditiveBlending,
                sizeAttenuation: true
            });

            galaxyParticles = new THREE.Points(geometry, material);
            
            // Tilt the galaxy like we're viewing it at an angle
            galaxyParticles.rotation.x = Math.PI * 0.2;
            
            scene.add(galaxyParticles);
        }

        function animate() {
            requestAnimationFrame(animate);
            
            if (galaxyParticles) {
                // Smooth interpolation toward target rotation (mouse following)
                currentRotation.x += (targetRotation.x - currentRotation.x) * 0.02;
                currentRotation.y += (targetRotation.y - currentRotation.y) * 0.02;
                
                // Apply mouse-based rotation
                galaxyParticles.rotation.x = Math.PI * 0.2 + currentRotation.x; // Keep base tilt
                galaxyParticles.rotation.y = currentRotation.y;
                
                // Slow galaxy rotation (like a real galaxy)
                galaxyRotation += 0.001;
                galaxyParticles.rotation.z = galaxyRotation;
                
                // Subtle pulsing effect for the galaxy core
                const time = Date.now() * 0.0005;
                const pulseFactor = 1 + Math.sin(time) * 0.05;
                galaxyParticles.scale.setScalar(pulseFactor);
                
                // Animate star brightness (twinkling effect)
                const colors = galaxyParticles.geometry.attributes.color.array;
                const positions = galaxyParticles.geometry.attributes.position.array;
                
                for (let i = 0; i < colors.length; i += 3) {
                    const particleIndex = i / 3;
                    
                    // Only animate some stars for performance
                    if (particleIndex % 5 === 0) {
                        const x = positions[i];
                        const y = positions[i + 1];
                        const radius = Math.sqrt(x * x + y * y);
                        
                        // Twinkling based on time and position
                        const twinkle = 0.8 + 0.4 * Math.sin(time * 3 + particleIndex * 0.1);
                        
                        // Preserve original color ratios while applying twinkle
                        const originalR = colors[i];
                        const originalG = colors[i + 1];
                        const originalB = colors[i + 2];
                        
                        // Make core stars brighter and more stable
                        const coreFactor = radius < 1.5 ? 1.2 : 1.0;
                        
                        colors[i] = Math.min(1.0, originalR * twinkle * coreFactor);
                        colors[i + 1] = Math.min(1.0, originalG * twinkle * coreFactor);
                        colors[i + 2] = Math.min(1.0, originalB * twinkle * coreFactor);
                    }
                }
                
                galaxyParticles.geometry.attributes.color.needsUpdate = true;
            }
            
            renderer.render(scene, camera);
        }

        // Handle window resize
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });
        // Project modal functionality
        const projectData = {
            project1: {
                title: "The Brick House",
                content: `
                    <p>A co-op game created in Unity where 2 players manage cooking for a restaurant and eliminate the wolves of Wall Street.</p>
                    
                    <h3>Screenshots & Gameplay Video:</h3>
                    
                    <div class="media-grid">
                        <div class="media-placeholder">
                            <img src="images/brickHouse/brickHouseIMG2.png" style="width: 100%; height: 100%; object-fit: cover;">
                        </div>
                        <div class="media-placeholder">
                            <img src="images/brickHouse/brickHouseIMG3.png" style="width: 100%; height: 100%; object-fit: cover;">
                        </div>
                        <div class="media-placeholder">
                            <img src="images/brickHouse/brickHouseIMG4.png" style="width: 100%; height: 100%; object-fit: cover;">
                        </div>
                        <div class="media-placeholder">
                            <div class="media-placeholder">
                                <iframe width="100%" height="200" 
                                        src="https://www.youtube.com/embed/TIWujsYnAMg?si=SEhAH3EXrb9P7pBz" 
                                        title="YouTube video player" 
                                        frameborder="0" 
                                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                                        referrerpolicy="strict-origin-when-cross-origin" 
                                        allowfullscreen>
                                </iframe>
                        </div>
                    </div>
                `
            },
            project2: {
                title: "The Last Foul Ball",
                content: `
                    <p>A 2D fighter game where your family is murdered by a gang led by a baseball. Use your basketball martial arts to defeat anyone in your way.</p>
                    
                    <h3>Screenshots & Gameplay Video:</h3>
                    
                    <div class="media-grid">
                        <div class="media-placeholder">
                            <iframe width="100%" height="200" 
                                    src="https://www.youtube.com/embed/915pIZTLk9w?si=56f5hKwXjito5QRK" 
                                    title="YouTube video player" 
                                    frameborder="0" 
                                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                                    referrerpolicy="strict-origin-when-cross-origin" 
                                    allowfullscreen>
                            </iframe>
                        </div>
                    </div>
                `
            },
            project3: {
                title: "Akiko: The Sight Beyond",
                content: `
                    <p>
                        A 2D platformer that explores the Japanese folklore tales of the Dodomeki. 
                        Use your eyes to switch from the real world to the Yokai realm. Your journey
                        is culminated by facing off the mystical Dodomeki herself!
                    </p>
                    
                    <div class="media-grid">
                        <div class="media-placeholder">
                            <img src="images/akiko/akikoIMG2.png" style="width: 100%; height: 100%; object-fit: cover;">
                        </div>
                        <div class="media-placeholder">
                             <img src="images/akiko/akikoIMG3.png" style="width: 100%; height: 100%; object-fit: cover;">
                        </div>
                        <div class="media-placeholder">
                             <img src="images/akiko/akikoIMG4.png" style="width: 100%; height: 100%; object-fit: cover;">
                        </div>   
                        <div class="media-placeholder">
                             <img src="images/akiko/akikoIMG5.png" style="width: 100%; height: 100%; object-fit: cover;">
                        </div>  
                    </div>
                `
            },
            project4: {
                title: "Scuba Hunter",
                content: `
                    <p>
                        A 2D game where you take on the role of an underwater hunter, 
                        trapping fish in bubbles and avoiding deep-sea trash. Inspired
                        by helping the environment.
                    </p>
                    
                    <div class="media-grid">
                        <div class="media-placeholder">
                            <img src="images/scubaHunter/scubaHunterIMG1.png" style="width: 100%; height: 100%; object-fit: cover;">
                        </div>
                        <div class="media-placeholder">
                            <img src="images/scubaHunter/scubaHunterIMG2.png" style="width: 100%; height: 100%; object-fit: cover;">
                        </div>
                        <div class="media-placeholder">
                            <img src="images/scubaHunter/scubaHunterIMG3.png" style="width: 100%; height: 100%; object-fit: cover;">
                        </div>
                    </div>
                `
            },
            project5: {
                title: "Far From Home",
                content: `
                    <p>A 3D cinematic trying to convey the loneliness of the universe. Created in Autodesk Maya aided by 
                        sculpting in ZBrush & texturing in Substance Painter. Soundtrack credit: Nicolas Snyder.</p>
                    
                    <div class="media-grid">
                        <div class="media-placeholder" style="height: auto; background: none;">
                            <iframe src="https://player.vimeo.com/video/1129405620?badge=0&autopause=0&player_id=0&app_id=58479" width="100%" height="315" frameborder="0" allow="autoplay; fullscreen; picture-in-picture; clipboard-write; encrypted-media; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                        </div>
                    </div>
                `
            },
            project6: {
                title: "Mecha Spider",
                content: `
                    <p>A 3D model textured in Adobe Substance Painter.</p>
                    
                    <div class="media-grid">
                        <div class="media-placeholder">
                            <img src="images/mechaSpider/mechaSpider1.png" style="width: 100%; height: 100%; object-fit: cover;">
                        </div>
                        <div class="media-placeholder">
                             <img src="images/mechaSpider/mechaSpider2.png" style="width: 100%; height: 100%; object-fit: cover;">
                        </div>
                        <div class="media-placeholder">
                             <img src="images/mechaSpider/mechaSpider3.png" style="width: 100%; height: 100%; object-fit: cover;">
                        </div>
                        <div class="media-placeholder">
                             <img src="images/mechaSpider/mechaSpider5.JPG" style="width: 100%; height: 100%; object-fit: cover;">
                        </div>
                    </div>
                `
            },
            project7: {
                title: "Unbound",
                content: `
                    <p>My attempt to create a psychological horror game. Pixel-art based game where the main protagonist (canonically)
                       is a distraught father who is trying to find reasons behind his daughter's death. After playtesting, the majority
                       said that the ending caught them off guard and was pretty unsettling!</p>
                    
                    
                    <div class="media-grid">
                        <div class="media-placeholder">
                            <img src="images/unbound/unboundLevel2.png" style="width: 100%; height: 100%; object-fit: scale-down;">
                        </div>
                        <div class="media-placeholder">
                             <img src="images/unbound/unboundLevel3.png" style="width: 100%; height: 100%; object-fit: scale-down;">
                        </div>
                        <div class="media-placeholder">
                             <img src="images/unbound/unboundLevel4.png" style="width: 100%; height: 100%; object-fit: scale-down;">
                        </div>
                        <div class="media-placeholder">
                             <img src="images/unbound/unboundUI.png" style="width: 100%; height: 100%; object-fit: scale-down;">
                        </div>
                    </div>
                `
            },
            project8: {
                title: "Scavenger",
                content: `
                    <p>A 3D model textured in Adobe Substance Painter.</p>
                    
                    <div class="media-grid">
                        <div class="media-placeholder">
                            <img src="images/scavenger/scavenger2.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        </div>
                        <div class="media-placeholder">
                             <img src="images/scavenger/scavenger3.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        </div>
                        <div class="media-placeholder">
                             <img src="images/scavenger/scavenger1.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        </div>
                    </div>
                `
            },
            graphics1: {
                title: "Scotty3D",
                content: `
                    <h2>Rasterization</h2>
                    <p>
                        The project's initial part centers on rasterized rendering techniques. In this stage, 
                        I worked on implementing multiple capabilities including MVP transformation, 
                        rendering of lines and triangles, mip-mapping, supersampling, and additional features. 
                        Through this detailed work, I developed a thorough grasp of computer graphics rendering processes.    
                    </p>
                    <br>
                    
                    <div class="media-placeholder">
                        <img src="images/scotty3D/cg2.png" style="width: 100%; height: 100%; object-fit: cover;">
                    </div>

                    <br>
                    <h2>Mesh Editing</h2>
                    <p>
                        MeshEdit functions as Scotty3D's core module, providing capabilities for 3D modeling, subdivision, and mesh manipulation. 
                        This robust application allows users to convert basic cube shapes into impressive, natural-looking 3D surfaces composed of 
                        refined polygon meshes. Throughout development, I coded many of Scotty3D's local mesh manipulation features, including EdgeFlip, 
                        EdgeCollapse, VertexExtrude, FaceBevel, and others. Building these functions gave me deep insight into the Halfedge data structure, 
                        which serves as the connecting framework that links vertices, edges, and faces throughout the mesh.
                    </p>
                    <br>

                    <div class="media-placeholder">
                        <img src="images/scotty3D/cg3.png" style="width: 70%; height: 100%; object-fit: fill;">
                    </div>

                    <br>
                    <h2>Global Remeshing Algorithms</h2>
                    <p>
                        Additionally, I integrated various global remeshing algorithms into the system, including Catmull-Clark Subdivision, 
                        Loop Subdivision, and Simplification. These algorithms enable dynamic model modification and optimization, matching the 
                        functionality of established 3D software packages.By implementing these features, I acquired significant hands-on 
                        experience with sophisticated mesh operations and enhanced my knowledge of the advanced modeling methods and algorithms 
                        that are standard in the 3D graphics field.
                    </p>
                    <br>

                    <div class="media-placeholder">
                        <img src="images/scotty3D/cg4.png" style="width: 100%; height: 100%; object-fit: cover;">
                    </div>

                `
            }
        };

        function openModal(projectId) {
            const modal = document.getElementById('project-modal');
            const modalTitle = document.getElementById('modal-title');
            const modalBody = document.getElementById('modal-body');
            
            const project = projectData[projectId];
            modalTitle.textContent = project.title;
            modalBody.innerHTML = project.content;
            
            modal.style.display = 'flex';
            document.body.style.overflow = 'hidden';
        }

        function closeModal() {
            const modal = document.getElementById('project-modal');
            modal.style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        // Event listeners
        document.addEventListener('DOMContentLoaded', () => {
            initThree();
            
            // Project card click handlers
            document.querySelectorAll('.project-card').forEach(card => {
                card.addEventListener('click', () => {
                    const projectId = card.getAttribute('data-project');
                    openModal(projectId);
                });
            });
            
            // Close modal when clicking outside
            document.getElementById('project-modal').addEventListener('click', (e) => {
                if (e.target.id === 'project-modal') {
                    closeModal();
                }
            });
            
            // Smooth scrolling for navigation links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });
        });

        // Parallax effect for header
        window.addEventListener('scroll', () => {
            const scrolled = window.pageYOffset;
            const header = document.querySelector('header');
            const heroContent = document.querySelector('.hero-content');
            
            if (header && heroContent) {
                heroContent.style.transform = `translateY(${scrolled * 0.5}px)`;
            }
        });
    </script>
</body>
</html>